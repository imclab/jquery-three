window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),function(e){var t={fov:45,aspect:4/3,near:1,far:1e3};Three=function(n,r,i){var s=this;this.container=n,this.options=e.extend(t,r),this.objects={},this.scenes={},this.cameras={},this.last="",e.getScript("https://raw.github.com/mrdoob/three.js/master/build/three.min.js",function(){s.init(r),i!==void 0&&i(s)})},Three.prototype={init:function(n){var r=e.extend(t,n);this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(r.fov,r.aspect,r.near,r.far),this.camera.position.set(0,-450,400),this.camera.rotation.x=45*(Math.PI/180),this.scene.add(this.camera),this.renderer=new THREE.WebGLRenderer,this.renderer.setSize(e(this.container).width(),e(this.container).height()),e(this.renderer.domElement).appendTo(this.container),this.tick()},destroy:function(){return this.each(function(){var t=e(this);t.data("three"),t.removeData("three")})},self:function(t,n){var r=[];return this.each(function(){var i=e(this),s=i.data("three");s||(s=new Three(this,t,n),e(this).data("three",s)),r.push(s)}),e(r)},tick:function(){var e=this;this.render(),requestAnimFrame(function(){e.tick()})},render:function(){this.renderer.render(this.scene,this.camera)},show:function(){},hide:function(){},update:function(){},detect:function(){return{canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{return!!window.WebGLRenderingContext&&!!document.createElement("canvas").getContext("experimental-webgl")}catch(e){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,all:function(){return this.webgl&&this.canvas&&this.workers&&this.fileapi}}}},e.fn.three=function(e,t){return e||(e=!1),t||(t=function(e){return e}),Three.prototype.self.apply(this,arguments,e,t)}}(jQuery),function(e){Three.prototype=e.extend(Three.prototype,{addClass:function(t){var n=this.last;e(this.container).find("#"+n.id).addClass(t);var r=this.css(e(this.container).find("#"+n.id));return this.cssSet(r),this}})}(jQuery),function(e){Three.prototype=e.extend(Three.prototype,{css:function(t){var n=document.styleSheets,r={};for(var i in n){var s=n[i].rules||n[i].cssRules;for(var o in s)t.is(s[o].selectorText)&&(r=e.extend(r,this.css2json(s[o].style),this.css2json(t.attr("style"))))}return r},cssSet:function(e){var t=this.last;for(var n in e)switch(n){case"width":t.mesh.scale.x=parseInt(e[n],10);break;case"height":t.mesh.scale.y=parseInt(e[n],10);break;case"left":t.mesh.position.x=parseInt(e[n],10);break;case"top":t.mesh.position.y=parseInt(e[n],10);break;case"color":var r=this.colorToHex(e[n]),i=new THREE.MeshBasicMaterial({color:r});t.mesh.material=i}},css2json:function(e){var t={};if(!e)return t;if(e instanceof CSSStyleDeclaration)for(var n in e)e[n].toLowerCase&&(t[e[n].toLowerCase()]=e[e[n]]);else if("string"==typeof e){e=e.split("; ");for(var r in e){var i=e[r].split(": ");t[i[0].toLowerCase()]=i[1]}}return t}})}(jQuery),function(e){Three.prototype=e.extend(Three.prototype,{animate:function(){}})}(jQuery),function(e){Three.prototype=e.extend(Three.prototype,{})}(jQuery),function(e){Three.prototype=e.extend(Three.prototype,{add:function(){},addPlane:function(t){var n=new THREE.PlaneGeometry(1,1);n.dynamic=!0;var r=new THREE.MeshBasicMaterial({color:0});this.objects[t]={id:t,mesh:new THREE.Mesh(n,r)},this.scene.add(this.objects[t].mesh),e("<plane>").attr("id",t).appendTo(this.container),this.last=this.objects[t];var i=this.css(e(this.container).find("#"+t));return this.cssSet(i),this}})}(jQuery),function(e){Three.prototype=e.extend(Three.prototype,{})}(jQuery),function(e){Three.prototype=e.extend(Three.prototype,{})}(jQuery),function(e){Three.prototype=e.extend(Three.prototype,{colorToHex:function(e){if("#"===e.substr(0,1))return e.replace("#","0x");var t=/(.*?)rgb\((\d+), (\d+), (\d+)\)/.exec(e),n=parseInt(t[2],10).toString(16),r=parseInt(t[3],10).toString(16),i=parseInt(t[4],10).toString(16);return 1==n.length&&(n="0"+n),1==r.length&&(r="0"+r),1==i.length&&(i="0"+i),"0x"+n+r+i}})}(jQuery);